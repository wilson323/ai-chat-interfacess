# 共识文档 - JSX转义字符问题修复

## 需求描述和验收标准

### 核心问题确认
1. **HTML实体编码问题**：在`components/admin/performance/MobilePerformance.tsx`中发现`&lt;`实体编码
2. **TypeScript构建错误**：JSX中的`<`字符被错误解析为标签开始
3. **@types/node依赖问题**：库文件中的语法错误影响类型检查

### 已完成修复
- ✅ 修复HTML实体编码`&lt;`为正确的`{'<'}`JavaScript表达式
- ✅ 修复两处涉及数值比较的文本显示问题
- ✅ 更新TypeScript配置增强库文件跳过机制

### 验收标准
- [x] HTML实体编码转换完成
- [ ] TypeScript类型检查通过
- [ ] 项目构建成功
- [ ] ESLint检查通过
- [ ] UI显示正常

## 技术实现方案

### 架构对齐确认
- **项目架构**：Next.js 15 + React 18 + TypeScript 5
- **UI框架**：TailwindCSS + Radix UI
- **构建系统**：Next.js内置构建系统
- **代码规范**：ESLint + Prettier

### 修复策略
1. **JSX表达式包装**：使用`{'<'}`代替直接的`<`字符避免解析冲突
2. **TypeScript配置优化**：增强`skipLibCheck`和类型根配置
3. **渐进式修复**：逐步修复并验证，避免引入新问题

### 集成方案
- 保持与现有组件库的兼容性
- 遵循项目现有的代码风格（单引号、camelCase等）
- 确保修复不影响现有功能

## 任务边界和约束

### 包含范围
- 修复现有JSX语法错误
- 解决TypeScript构建问题
- 确保UI正常显示

### 排除范围
- 不进行大规模重构
- 不修改核心业务逻辑
- 不添加新功能

### 技术约束
- Windows环境执行
- 保持严格TypeScript类型检查
- 遵循Next.js 15最佳实践
- 维护现有测试覆盖率

## 风险评估和缓解

### 潜在风险
1. **构建时间**：大型项目构建可能较慢
2. **依赖冲突**：@types/node版本兼容性问题
3. **UI回归**：修复可能影响显示效果

### 缓解措施
1. 分步验证修复效果
2. 保留备份配置
3. 优先修复语法错误
4. 最后进行完整构建测试

## 确认事项

### 不确定性解决
- ✅ HTML实体编码问题根源已识别
- ✅ JSX语法错误修复方案已确认
- ✅ TypeScript配置优化策略已制定
- [ ] 构建成功需要最终验证

### 假设确认
- 项目使用标准React JSX语法
- TailwindCSS样式不受影响
- 现有组件功能保持不变
- 修复不破坏现有测试
