# æ¨¡å‹é…ç½®ç®¡ç†æ¨¡å—è®¾è®¡ - AI Chat Interface

## ğŸ“‹ æ¨¡å—æ¦‚è¿°

### è®¾è®¡ç›®æ ‡
- ç»Ÿä¸€ç®¡ç†æ‰€æœ‰AIæ¨¡å‹é…ç½®
- æ”¯æŒå¤šç§æ¨¡å‹ç±»å‹å’Œæä¾›å•†
- æä¾›ç›´è§‚çš„é…ç½®ç•Œé¢
- ç¡®ä¿ä»£ç è´¨é‡å’Œæ¶æ„ä¸€è‡´æ€§
- ä½¿ç”¨æˆç†Ÿç»„ä»¶å‡å°‘è‡ªå®šä¹‰ä»£ç 

### æ ¸å¿ƒåŠŸèƒ½
1. **æ¨¡å‹ç®¡ç†**: å¢åˆ æ”¹æŸ¥æ¨¡å‹é…ç½®
2. **å‚æ•°é…ç½®**: æ¨¡å‹å‚æ•°è°ƒä¼˜
3. **æ€§èƒ½ç›‘æ§**: æ¨¡å‹ä½¿ç”¨ç»Ÿè®¡å’Œæ€§èƒ½åˆ†æ
4. **ç‰ˆæœ¬ç®¡ç†**: æ¨¡å‹ç‰ˆæœ¬æ§åˆ¶å’Œå›æ»š
5. **æƒé™æ§åˆ¶**: ä¸åŒè§’è‰²çš„é…ç½®æƒé™

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### 1. æ•°æ®æ¨¡å‹è®¾è®¡

```typescript
// æ¨¡å‹é…ç½®ç±»å‹
interface ModelConfig {
  id: string
  name: string
  type: 'openai' | 'fastgpt' | 'local' | 'custom'
  provider: string
  version: string
  status: 'active' | 'inactive' | 'deprecated'
  capabilities: ModelCapability[]
  parameters: ModelParameters
  metadata: ModelMetadata
  createdAt: Date
  updatedAt: Date
}

// æ¨¡å‹èƒ½åŠ›
interface ModelCapability {
  type: 'text' | 'image' | 'audio' | 'multimodal'
  supported: boolean
  maxTokens?: number
  maxImages?: number
  maxAudioDuration?: number
}

// æ¨¡å‹å‚æ•°
interface ModelParameters {
  temperature: number
  maxTokens: number
  topP: number
  frequencyPenalty: number
  presencePenalty: number
  stopSequences: string[]
  customParameters: Record<string, any>
}

// æ¨¡å‹å…ƒæ•°æ®
interface ModelMetadata {
  description: string
  tags: string[]
  category: string
  costPerToken: number
  latency: number
  accuracy: number
  lastUsed: Date
  usageCount: number
}
```

### 2. é¡µé¢ç»“æ„è®¾è®¡

```
app/admin/model-config/
â”œâ”€â”€ page.tsx                    # æ¨¡å‹é…ç½®ä¸»é¡µ
â”œâ”€â”€ create/
â”‚   â””â”€â”€ page.tsx               # åˆ›å»ºæ¨¡å‹é…ç½®
â”œâ”€â”€ edit/
â”‚   â””â”€â”€ [id]/
â”‚       â””â”€â”€ page.tsx           # ç¼–è¾‘æ¨¡å‹é…ç½®
â”œâ”€â”€ monitor/
â”‚   â””â”€â”€ page.tsx               # æ¨¡å‹æ€§èƒ½ç›‘æ§
â””â”€â”€ versions/
    â””â”€â”€ [id]/
        â””â”€â”€ page.tsx           # æ¨¡å‹ç‰ˆæœ¬ç®¡ç†
```

### 3. ç»„ä»¶è®¾è®¡

```
components/admin/model-config/
â”œâ”€â”€ ModelConfigList.tsx        # æ¨¡å‹é…ç½®åˆ—è¡¨
â”œâ”€â”€ ModelConfigForm.tsx        # æ¨¡å‹é…ç½®è¡¨å•
â”œâ”€â”€ ModelConfigCard.tsx        # æ¨¡å‹é…ç½®å¡ç‰‡
â”œâ”€â”€ ModelMonitor.tsx           # æ¨¡å‹ç›‘æ§é¢æ¿
â”œâ”€â”€ ModelVersionManager.tsx    # ç‰ˆæœ¬ç®¡ç†å™¨
â”œâ”€â”€ ModelCapabilityEditor.tsx  # èƒ½åŠ›ç¼–è¾‘å™¨
â””â”€â”€ ModelParameterEditor.tsx   # å‚æ•°ç¼–è¾‘å™¨
```

## ğŸ¨ UIè®¾è®¡è§„èŒƒ

### 1. ä½¿ç”¨æˆç†Ÿç»„ä»¶
- **shadcn/ui**: åŸºç¡€UIç»„ä»¶
- **Ant Design**: æ•°æ®è¡¨æ ¼å’Œå¤æ‚è¡¨å•
- **React Hook Form**: è¡¨å•ç®¡ç†
- **Zod**: æ•°æ®éªŒè¯

### 2. è®¾è®¡åŸåˆ™
- **ä¸€è‡´æ€§**: ä¸ç°æœ‰ç®¡ç†å‘˜ç•Œé¢ä¿æŒä¸€è‡´
- **ç°ä»£åŒ–**: ä½¿ç”¨ç°ä»£UIè®¾è®¡è¯­è¨€
- **å“åº”å¼**: æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- **å¯è®¿é—®æ€§**: ç¬¦åˆWCAGæ ‡å‡†

### 3. è§†è§‰é£æ ¼
- **è‰²å½©**: ä½¿ç”¨é¡¹ç›®ä¸»è‰²è°ƒ
- **å­—ä½“**: ç»Ÿä¸€å­—ä½“ç³»ç»Ÿ
- **é—´è·**: 8pxç½‘æ ¼ç³»ç»Ÿ
- **åœ†è§’**: ç»Ÿä¸€åœ†è§’è§„èŒƒ

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. çŠ¶æ€ç®¡ç†
```typescript
// ä½¿ç”¨Zustandç®¡ç†æ¨¡å‹é…ç½®çŠ¶æ€
interface ModelConfigStore {
  models: ModelConfig[]
  selectedModel: ModelConfig | null
  loading: boolean
  error: string | null
  
  // Actions
  fetchModels: () => Promise<void>
  createModel: (config: Omit<ModelConfig, 'id'>) => Promise<void>
  updateModel: (id: string, config: Partial<ModelConfig>) => Promise<void>
  deleteModel: (id: string) => Promise<void>
  selectModel: (id: string) => void
}
```

### 2. APIè®¾è®¡
```typescript
// APIè·¯ç”±è®¾è®¡
app/api/admin/model-config/
â”œâ”€â”€ route.ts                   # æ¨¡å‹é…ç½®CRUD
â”œâ”€â”€ [id]/
â”‚   â””â”€â”€ route.ts              # å•ä¸ªæ¨¡å‹é…ç½®æ“ä½œ
â”œâ”€â”€ monitor/
â”‚   â””â”€â”€ route.ts              # æ€§èƒ½ç›‘æ§æ•°æ®
â””â”€â”€ test/
    â””â”€â”€ route.ts              # æ¨¡å‹æµ‹è¯•æ¥å£
```

### 3. æ•°æ®åº“è®¾è®¡
```sql
-- æ¨¡å‹é…ç½®è¡¨
CREATE TABLE model_configs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(255) NOT NULL,
  type VARCHAR(50) NOT NULL,
  provider VARCHAR(100) NOT NULL,
  version VARCHAR(50) NOT NULL,
  status VARCHAR(20) DEFAULT 'active',
  capabilities JSONB NOT NULL,
  parameters JSONB NOT NULL,
  metadata JSONB NOT NULL,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- æ¨¡å‹ä½¿ç”¨ç»Ÿè®¡è¡¨
CREATE TABLE model_usage_stats (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  model_id UUID REFERENCES model_configs(id),
  usage_count INTEGER DEFAULT 0,
  total_tokens INTEGER DEFAULT 0,
  total_cost DECIMAL(10,4) DEFAULT 0,
  avg_latency INTEGER DEFAULT 0,
  date DATE NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
```

## ğŸ“± é¡µé¢è®¾è®¡

### 1. æ¨¡å‹é…ç½®ä¸»é¡µ
- **é¡¶éƒ¨**: æœç´¢æ ã€ç­›é€‰å™¨ã€åˆ›å»ºæŒ‰é’®
- **ä¸»ä½“**: æ¨¡å‹é…ç½®å¡ç‰‡ç½‘æ ¼
- **ä¾§è¾¹æ **: åˆ†ç±»ç­›é€‰ã€çŠ¶æ€ç­›é€‰
- **åº•éƒ¨**: åˆ†é¡µç»„ä»¶

### 2. æ¨¡å‹é…ç½®è¡¨å•
- **åŸºæœ¬ä¿¡æ¯**: åç§°ã€ç±»å‹ã€æä¾›å•†
- **èƒ½åŠ›é…ç½®**: æ”¯æŒçš„åŠŸèƒ½ç±»å‹
- **å‚æ•°è®¾ç½®**: æ¸©åº¦ã€æœ€å¤§ä»¤ç‰Œç­‰
- **é«˜çº§è®¾ç½®**: è‡ªå®šä¹‰å‚æ•°ã€å…ƒæ•°æ®

### 3. æ¨¡å‹ç›‘æ§é¢æ¿
- **å®æ—¶ç»Ÿè®¡**: ä½¿ç”¨é‡ã€å“åº”æ—¶é—´
- **æ€§èƒ½å›¾è¡¨**: è¶‹åŠ¿åˆ†æ
- **é”™è¯¯ç›‘æ§**: é”™è¯¯ç‡å’Œæ—¥å¿—
- **æˆæœ¬åˆ†æ**: ä½¿ç”¨æˆæœ¬ç»Ÿè®¡

## ğŸš€ å®æ–½è®¡åˆ’

### é˜¶æ®µ1: åŸºç¡€æ¶æ„ (ç¬¬1å‘¨)
- [ ] åˆ›å»ºæ•°æ®æ¨¡å‹å’Œç±»å‹å®šä¹‰
- [ ] è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„
- [ ] å®ç°åŸºç¡€APIæ¥å£
- [ ] åˆ›å»ºåŸºç¡€ç»„ä»¶ç»“æ„

### é˜¶æ®µ2: æ ¸å¿ƒåŠŸèƒ½ (ç¬¬2å‘¨)
- [ ] å®ç°æ¨¡å‹é…ç½®CRUD
- [ ] å¼€å‘é…ç½®è¡¨å•ç»„ä»¶
- [ ] å®ç°æ¨¡å‹åˆ—è¡¨å±•ç¤º
- [ ] æ·»åŠ æœç´¢å’Œç­›é€‰åŠŸèƒ½

### é˜¶æ®µ3: é«˜çº§åŠŸèƒ½ (ç¬¬3å‘¨)
- [ ] å®ç°æ€§èƒ½ç›‘æ§
- [ ] æ·»åŠ ç‰ˆæœ¬ç®¡ç†
- [ ] å®ç°æƒé™æ§åˆ¶
- [ ] ä¼˜åŒ–UIå’Œç”¨æˆ·ä½“éªŒ

### é˜¶æ®µ4: æµ‹è¯•å’Œä¼˜åŒ– (ç¬¬4å‘¨)
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] è¿›è¡Œé›†æˆæµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æ–‡æ¡£å®Œå–„

## ğŸ“Š æˆåŠŸæŒ‡æ ‡

### åŠŸèƒ½æŒ‡æ ‡
- [ ] æ”¯æŒ5+ç§æ¨¡å‹ç±»å‹
- [ ] é…ç½®å“åº”æ—¶é—´ < 200ms
- [ ] è¡¨å•éªŒè¯è¦†ç›–ç‡ 100%
- [ ] ç§»åŠ¨ç«¯é€‚é…å®Œæˆ

### è´¨é‡æŒ‡æ ‡
- [ ] ä»£ç è¦†ç›–ç‡ > 85%
- [ ] ç»„ä»¶å¤ç”¨ç‡ > 80%
- [ ] è‡ªå®šä¹‰ä»£ç  < 20%
- [ ] æ— TypeScripté”™è¯¯

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- [ ] é¡µé¢åŠ è½½æ—¶é—´ < 2s
- [ ] æ“ä½œå“åº”æ—¶é—´ < 500ms
- [ ] ç”¨æˆ·æ»¡æ„åº¦ > 90%
- [ ] é”™è¯¯ç‡ < 1%

## ğŸ¯ æ€»ç»“

è¿™ä¸ªæ¨¡å‹é…ç½®ç®¡ç†æ¨¡å—å°†æä¾›ï¼š
1. **ç»Ÿä¸€ç®¡ç†**: æ‰€æœ‰AIæ¨¡å‹é…ç½®é›†ä¸­ç®¡ç†
2. **çµæ´»é…ç½®**: æ”¯æŒå¤šç§æ¨¡å‹ç±»å‹å’Œå‚æ•°
3. **æ€§èƒ½ç›‘æ§**: å®æ—¶ç›‘æ§æ¨¡å‹ä½¿ç”¨æƒ…å†µ
4. **ç°ä»£åŒ–UI**: ä½¿ç”¨æˆç†Ÿç»„ä»¶ï¼Œç¡®ä¿ä¸€è‡´æ€§
5. **é«˜è´¨é‡ä»£ç **: éµå¾ªé¡¹ç›®å¼€å‘è§„èŒƒ

é€šè¿‡è¿™ä¸ªæ¨¡å—ï¼Œç®¡ç†å‘˜å¯ä»¥è½»æ¾ç®¡ç†æ‰€æœ‰AIæ¨¡å‹é…ç½®ï¼Œæå‡ç³»ç»Ÿç®¡ç†æ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚
