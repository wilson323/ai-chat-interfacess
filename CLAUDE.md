# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## ğŸš¨ é¡¹ç›®æ ¸å¿ƒä¿¡æ¯

**é¡¹ç›®åç§°**: NeuroGlass AI Chat Interface (ç†µçŠ‡çŠ‡æ™ºèƒ½ä½“)
**æŠ€æœ¯æ ˆ**: Next.js 15 + React 18 + TypeScript 5 + PostgreSQL + Docker
**éƒ¨ç½²æ–¹å¼**: Docker ä¸€é”®éƒ¨ç½² (ç«¯å£: 3009)
**æ•°æ®åº“**: PostgreSQL (ç«¯å£: 5452)

## ğŸ“‹ å¼€å‘è§„åˆ™éµå¾ª

**å¿…é¡»ä¸¥æ ¼éµå®ˆä»¥ä¸‹è§„åˆ™**:
1. **æˆç†Ÿç»„ä»¶åº“ä¼˜å…ˆ**: è‡ªå®šä¹‰ä»£ç å æ¯” < 20%ï¼Œä¼˜å…ˆä½¿ç”¨ shadcn/ui â†’ Ant Design â†’ Radix UI
2. **ä»£ç è´¨é‡è‡³ä¸Š**: TypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œé›¶é”™è¯¯å®¹å¿ï¼Œç¦æ­¢ any ç±»å‹
3. **å…¨å±€ä¸€è‡´æ€§**: ç»Ÿä¸€é…ç½®ã€é”™è¯¯å¤„ç†ã€API è®¾è®¡ï¼Œéµå¾ª SOLID åŸåˆ™å’Œ KISS åŸåˆ™
4. **ä¸­æ–‡å›å¤**: æ‰€æœ‰æ²Ÿé€šå’Œæ–‡æ¡£ä½¿ç”¨ä¸­æ–‡

### ğŸ”´ æ ¸å¿ƒå¼€å‘åŸåˆ™ (ä¼˜å…ˆçº§: ç»å¯¹éµå®ˆ)

#### 1. æˆç†Ÿç»„ä»¶åº“ä¼˜å…ˆåŸåˆ™ â­â­â­
- **è‡ªå®šä¹‰ä»£ç å æ¯”**: < 20%
- **shadcn/uiä¼˜å…ˆ**: åŸºäºRadix UIçš„æ— éšœç¢ç»„ä»¶
- **Ant Designè¡¥å……**: ä¼ä¸šçº§å¤æ‚ç»„ä»¶
- **é¿å…é‡å¤é€ è½®å­**: ä¼˜å…ˆä½¿ç”¨ç°æœ‰è§£å†³æ–¹æ¡ˆ

#### 2. ä»£ç è´¨é‡è‡³ä¸ŠåŸåˆ™ â­â­â­
- **TypeScriptä¸¥æ ¼æ¨¡å¼**: ç¦æ­¢ä½¿ç”¨anyç±»å‹
- **é›¶å®¹å¿é”™è¯¯**: æ‰€æœ‰ä»£ç å¿…é¡»é€šè¿‡æ£€æŸ¥
- **DRYåŸåˆ™**: ä¸¥æ ¼ç¦æ­¢ä»£ç é‡å¤
- **å•ä¸€èŒè´£**: æ¯ä¸ªå‡½æ•°/ç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½

#### 3. å…¨å±€ä¸€è‡´æ€§åŸåˆ™ â­â­â­
- **ç»Ÿä¸€é…ç½®æº**: æ‰€æœ‰é…ç½®é€šè¿‡.envç®¡ç†
- **ç»Ÿä¸€é”™è¯¯å¤„ç†**: å…¨å±€é”™è¯¯å¤„ç†ä¸­é—´ä»¶
- **ç»Ÿä¸€APIè®¾è®¡**: æ ‡å‡†åŒ–å“åº”æ ¼å¼
- **ç»Ÿä¸€ç»„ä»¶æ¥å£**: æ ‡å‡†åŒ–Propsæ¥å£

### ğŸŸ¡ TypeScriptç±»å‹å®‰å…¨è§„èŒƒ (ä¼˜å…ˆçº§: ä¸¥æ ¼éµå®ˆ)

#### 1. ä¸¥æ ¼ç±»å‹æ£€æŸ¥ â­â­â­
- **ç¦æ­¢anyç±»å‹**: ä¸¥æ ¼ç¦æ­¢ä½¿ç”¨anyç±»å‹ï¼Œå¿…é¡»ä½¿ç”¨å…·ä½“ç±»å‹
- **ç±»å‹å®šä¹‰ç»Ÿä¸€**: æ‰€æœ‰ç±»å‹å®šä¹‰å¿…é¡»åœ¨`types/`ç›®å½•ä¸‹ç»Ÿä¸€ç®¡ç†
- **ç±»å‹å¯¼å…¥è§„èŒƒ**: ç»Ÿä¸€ä»`types/index.ts`å¯¼å…¥ç±»å‹
- **ç±»å‹å®‰å…¨ä¼˜å…ˆ**: ç±»å‹å®‰å…¨ä¼˜äºå¼€å‘ä¾¿åˆ©æ€§

#### 2. ç±»å‹å®šä¹‰è§„èŒƒ â­â­â­
- **ç»Ÿä¸€ç±»å‹ä¸­å¿ƒ**: æ‰€æœ‰ç±»å‹å®šä¹‰åœ¨`types/index.ts`ä¸­ç»Ÿä¸€å¯¼å‡º
- **é¿å…é‡å¤å®šä¹‰**: ç¦æ­¢åœ¨å¤šä¸ªæ–‡ä»¶ä¸­é‡å¤å®šä¹‰ç›¸åŒç±»å‹
- **ç±»å‹å‘½åè§„èŒƒ**: ä½¿ç”¨PascalCaseå‘½åæ¥å£å’Œç±»å‹
- **ç±»å‹æ–‡æ¡£åŒ–**: å¤æ‚ç±»å‹å¿…é¡»æ·»åŠ JSDocæ³¨é‡Š

#### 3. ä¸¥æ ¼ç¦æ­¢çš„ç±»å‹ä½¿ç”¨
```typescript
// âŒ ä¸¥æ ¼ç¦æ­¢
function processData(data: any): any {
  return data.someProperty
}

// âœ… æ­£ç¡®åšæ³•
interface DataType {
  someProperty: string
}
function processData(data: DataType): string {
  return data.someProperty
}
```

### ğŸŸ¢ ç»„ä»¶åº“ä½¿ç”¨è§„èŒƒ (ä¼˜å…ˆçº§: ä¸¥æ ¼éµå®ˆ)

#### ç»„ä»¶åº“ä¼˜å…ˆçº§ (å¿…é¡»ä¸¥æ ¼éµå®ˆ)
1. **shadcn/ui** (æœ€é«˜ä¼˜å…ˆçº§) â­â­â­
   - åŸºç¡€UIç»„ä»¶: Button, Input, Card, Dialog, Select, Form, Tableç­‰
   - å¿…é¡»ä½¿ç”¨shadcn/uiç»„ä»¶ï¼Œç¦æ­¢è‡ªå®šä¹‰åŸºç¡€UIç»„ä»¶

2. **Ant Design** (å¤æ‚ä¸šåŠ¡ç»„ä»¶) â­â­
   - å¤æ‚ä¸šåŠ¡ç»„ä»¶: Table, Form, DatePicker, Upload, Treeç­‰
   - å¿…é¡»ä½¿ç”¨Ant Designï¼Œç¦æ­¢è‡ªå®šä¹‰å¤æ‚ä¸šåŠ¡ç»„ä»¶

3. **Radix UI** (æ— éšœç¢ç»„ä»¶) â­â­
   - æ— éšœç¢ç»„ä»¶: AlertDialog, DropdownMenuç­‰
   - å¿…é¡»ä½¿ç”¨Radix UIï¼Œç¦æ­¢è‡ªå®šä¹‰æ— éšœç¢ç»„ä»¶

#### ç¦æ­¢è‡ªå®šä¹‰çš„ç»„ä»¶ç±»å‹
- **åŸºç¡€UIç»„ä»¶**: æŒ‰é’®ã€è¾“å…¥æ¡†ã€é€‰æ‹©å™¨ã€å¯¹è¯æ¡†ã€æç¤ºæ¡†ã€åŠ è½½çŠ¶æ€ã€ç©ºçŠ¶æ€
- **å¤æ‚ä¸šåŠ¡ç»„ä»¶**: è¡¨æ ¼ã€è¡¨å•ã€æ—¥æœŸé€‰æ‹©å™¨ã€æ—¶é—´é€‰æ‹©å™¨ã€æ–‡ä»¶ä¸Šä¼ 
- **æ— éšœç¢ç»„ä»¶**: æ‰€æœ‰éœ€è¦æ— éšœç¢æ”¯æŒçš„äº¤äº’ç»„ä»¶

#### å…è®¸è‡ªå®šä¹‰çš„ç»„ä»¶ç±»å‹
- **ä¸šåŠ¡ç‰¹å®šç»„ä»¶**: èŠå¤©æ¶ˆæ¯ç»„ä»¶ã€æ™ºèƒ½ä½“å¡ç‰‡ç»„ä»¶ã€CADåˆ†æå™¨ç»„ä»¶ã€å›¾åƒç¼–è¾‘å™¨ç»„ä»¶
- **å¤åˆç»„ä»¶**: é¡µé¢å¸ƒå±€ç»„ä»¶ã€æ•°æ®å±•ç¤ºç»„ä»¶ã€ä¸šåŠ¡æµç¨‹ç»„ä»¶
- **åŒ…è£…ç»„ä»¶**: åŸºäºæˆç†Ÿåº“çš„åŒ…è£…ç»„ä»¶

### ğŸ”µ è„šæœ¬å®‰å…¨è§„èŒƒ (ä¼˜å…ˆçº§: ç»å¯¹éµå®ˆ)

#### 1. ä»£ç ä¿®æ”¹ç¦ä»¤ â­â­â­
- **ç¦æ­¢è„šæœ¬ä¿®æ”¹**: ä¸¥æ ¼ç¦æ­¢ä»»ä½•è„šæœ¬è‡ªåŠ¨ä¿®æ”¹ç°æœ‰ä»£ç æ–‡ä»¶
- **åªè¯»æ“ä½œ**: è„šæœ¬åªèƒ½è¿›è¡Œè¯»å–ã€åˆ†æã€æ£€æŸ¥ç­‰åªè¯»æ“ä½œ
- **äººå·¥ç¡®è®¤**: æ‰€æœ‰ä»£ç ä¿®æ”¹å¿…é¡»ç»è¿‡äººå·¥ç¡®è®¤å’Œå®¡æŸ¥
- **å®‰å…¨ä¼˜å…ˆ**: ä»£ç å®‰å…¨æ€§ä¼˜äºè‡ªåŠ¨åŒ–ä¾¿åˆ©æ€§

#### 2. è„šæœ¬æ“ä½œé™åˆ¶ â­â­â­
- **åªå…è®¸æ£€æŸ¥**: è„šæœ¬åªèƒ½è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥ã€åˆ†æã€æŠ¥å‘Š
- **ç¦æ­¢å†™å…¥**: ä¸¥æ ¼ç¦æ­¢è„šæœ¬å‘ä»£ç æ–‡ä»¶å†™å…¥å†…å®¹
- **ç¦æ­¢åˆ é™¤**: ä¸¥æ ¼ç¦æ­¢è„šæœ¬åˆ é™¤ä»£ç æ–‡ä»¶æˆ–å†…å®¹
- **ç¦æ­¢æ›¿æ¢**: ä¸¥æ ¼ç¦æ­¢è„šæœ¬æ›¿æ¢ä»£ç æ–‡ä»¶å†…å®¹

#### 3. å…è®¸çš„è„šæœ¬æ“ä½œ
```bash
# âœ… å…è®¸ï¼šä»£ç è´¨é‡æ£€æŸ¥
npm run type:check
npm run lint
npm run test

# âœ… å…è®¸ï¼šä»£ç åˆ†æ
npm run analyze
npm run coverage
npm run performance

# âœ… å…è®¸ï¼šé…ç½®æ£€æŸ¥
npm run config:check
npm run db:check
```

### ğŸŸ  ä»£ç è´¨é‡æ ‡å‡† (ä¼˜å…ˆçº§: ä¸¥æ ¼éµå®ˆ)

#### è´¨é‡æŒ‡æ ‡è¦æ±‚
- **è‡ªå®šä¹‰ä»£ç å æ¯”**: < 20%
- **å•å…ƒæµ‹è¯•è¦†ç›–ç‡**: â‰¥ 80%
- **é›†æˆæµ‹è¯•è¦†ç›–ç‡**: â‰¥ 60%
- **å…³é”®ä¸šåŠ¡é€»è¾‘è¦†ç›–ç‡**: â‰¥ 90%
- **ä»£ç é‡å¤ç‡**: < 3%
- **åœˆå¤æ‚åº¦**: < 10

#### ä»£ç è§„èŒƒè¦æ±‚
```typescript
// âœ… æ­£ç¡®çš„ä»£ç é£æ ¼
export interface UserProps {
  id: string
  name: string
  email: string
}

export function UserCard({ id, name, email }: UserProps) {
  // å•ä¸€èŒè´£ï¼Œæ¸…æ™°é€»è¾‘
  return (
    <Card>
      <CardHeader>
        <CardTitle>{name}</CardTitle>
      </CardHeader>
      <CardContent>
        <p>{email}</p>
      </CardContent>
    </Card>
  )
}

// âŒ ç¦æ­¢çš„ä»£ç é£æ ¼
export function BadComponent(props: any) { // ç¦æ­¢anyç±»å‹
  // å¤æ‚é€»è¾‘ï¼Œå¤šèŒè´£
  // é‡å¤ä»£ç 
  // æ— ç±»å‹æ£€æŸ¥
}
```

å®Œæ•´è§„åˆ™å‚è€ƒ: [PROJECT_RULES.md](./PROJECT_RULES.md)

## ğŸ› ï¸ å¸¸ç”¨å¼€å‘å‘½ä»¤

### åŸºç¡€å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev                    # ç«¯å£: 3000
npm run build                  # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run start                  # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# ä»£ç è´¨é‡æ£€æŸ¥
npm run check-code             # lint + typecheck + format:check
npm run lint                   # ESLint æ£€æŸ¥
npm run check-types           # TypeScript ç±»å‹æ£€æŸ¥
npm run format                 # Prettier æ ¼å¼åŒ–
npm run fix-code               # è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
```

### æµ‹è¯•ç›¸å…³
```bash
npm test                       # è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:unit             # å•å…ƒæµ‹è¯•
npm run test:integration      # é›†æˆæµ‹è¯•
npm run test:e2e              # ç«¯åˆ°ç«¯æµ‹è¯•
npm run test:coverage         # ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:watch           # ç›‘å¬æ¨¡å¼è¿è¡Œæµ‹è¯•
```

### æ•°æ®åº“æ“ä½œ
```bash
npm run check-db              # æ•°æ®åº“è¿æ¥æ£€æŸ¥
npm run db:optimize          # æ•°æ®åº“ä¼˜åŒ–
npm run db:backup            # æ•°æ®åº“å¤‡ä»½
npm run db:migrate           # æ•°æ®åº“è¿ç§»
npm run db:monitor           # æ•°æ®åº“ç›‘æ§
```

### ç¯å¢ƒé…ç½®
```bash
npm run check-config          # ç¯å¢ƒé…ç½®æ£€æŸ¥
npm run setup:all            # è®¾ç½®æ‰€æœ‰ç¯å¢ƒ
npm run setup:dev            # å¼€å‘ç¯å¢ƒè®¾ç½®
npm run setup:test           # æµ‹è¯•ç¯å¢ƒè®¾ç½®
npm run setup:production    # ç”Ÿäº§ç¯å¢ƒè®¾ç½®
```

### è´¨é‡æ£€æŸ¥
```bash
npm run check:custom-ratio   # è‡ªå®šä¹‰ä»£ç å æ¯”æ£€æŸ¥
npm run check:rules         # è§„åˆ™ä¸€è‡´æ€§æ£€æŸ¥
npm run script:check        # è„šæœ¬å®‰å…¨æ£€æŸ¥
npm run check:cross-platform # è·¨å¹³å°å…¼å®¹æ€§æ£€æŸ¥
```

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

### æŠ€æœ¯æ¶æ„
- **å‰ç«¯**: Next.js 15 (App Router) + React 18 + TypeScript 5
- **UIåº“**: shadcn/ui (åŸºäº Radix UI) + Ant Design + Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: React Context API + Zustand
- **åç«¯**: Next.js API Routes + PostgreSQL + Sequelize
- **ç¼“å­˜**: Redis + æœ¬åœ°å­˜å‚¨
- **éƒ¨ç½²**: Docker + Docker Compose

### ç›®å½•ç»“æ„
```
ai-chat-interfacess/
â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”œâ”€â”€ (user)/              # ç”¨æˆ·ç«¯é¡µé¢ (ç‹¬ç«‹äºç®¡ç†ç«¯)
â”‚   â”‚   â”œâ”€â”€ chat/           # èŠå¤©ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ history/        # å†å²è®°å½•
â”‚   â”‚   â””â”€â”€ settings/       # ç”¨æˆ·è®¾ç½®
â”‚   â”œâ”€â”€ admin/              # ç®¡ç†åå°
â”‚   â”œâ”€â”€ api/                # API è·¯ç”±
â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx            # é‡å®šå‘åˆ° /user/chat
â”œâ”€â”€ components/              # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/                 # shadcn/ui ç»„ä»¶
â”‚   â”œâ”€â”€ shared/             # å…±äº«ä¸šåŠ¡ç»„ä»¶
â”‚   â”œâ”€â”€ chat/               # èŠå¤©ç›¸å…³ç»„ä»¶
â”‚   â”œâ”€â”€ voice/              # è¯­éŸ³ç›¸å…³ç»„ä»¶
â”‚   â”œâ”€â”€ image-editor/       # å›¾åƒç¼–è¾‘å™¨
â”‚   â””â”€â”€ cad-analyzer/       # CAD åˆ†æå™¨
â”œâ”€â”€ lib/                    # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ api/                # API å·¥å…·
â”‚   â”œâ”€â”€ config/             # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ storage/            # å­˜å‚¨ç®¡ç†
â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”œâ”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ hooks/                  # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ scripts/                # å·¥å…·è„šæœ¬
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ __tests__/              # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ docker-compose.yaml     # Docker é…ç½®
```

### ç”¨æˆ·ç«¯åˆ†ç¦»æ¶æ„
é¡¹ç›®å·²å®Œæˆç”¨æˆ·ç«¯ä¸ç®¡ç†ç«¯çš„ç‰©ç†åˆ†ç¦»:
- **ç”¨æˆ·ç«¯**: `/user` è·¯å¾„ï¼ŒåŒ…å«èŠå¤©ã€å†å²ã€è®¾ç½®ç­‰åŠŸèƒ½
- **ç®¡ç†ç«¯**: `/admin` è·¯å¾„ï¼ŒåŠŸèƒ½ä¿æŒä¸å˜
- **å…¥å£**: ä¸»é¡µè‡ªåŠ¨é‡å®šå‘åˆ° `/user/chat`

## ğŸ¤– æ™ºèƒ½ä½“ç³»ç»Ÿ

### æ™ºèƒ½ä½“ç±»å‹åŒºåˆ†
- **FastGPT æ™ºèƒ½ä½“**: æ•°æ®æºä¸º FastGPT APIï¼Œå¯¹è¯å†…å®¹é€šè¿‡ API åˆ†é¡µæ‹‰å–ï¼Œä¸åœ¨æœ¬åœ°å­˜å‚¨
- **è‡ªç ”æ™ºèƒ½ä½“** (CADåˆ†æå™¨ã€å›¾åƒç¼–è¾‘å™¨ç­‰): ä¸šåŠ¡æ•°æ®æœ¬åœ°å­˜å‚¨ï¼ŒAPI å…¨é‡å¯æ§

### æ•°æ®å­˜å‚¨ç­–ç•¥
- **å¹³å°æ•°æ®åº“**: åªå­˜æ™ºèƒ½ä½“é…ç½®ã€ç”¨æˆ·ã€æƒé™ã€è°ƒç”¨æ—¥å¿—ç­‰å¹³å°çº§æ•°æ®
- **FastGPT æ™ºèƒ½ä½“**: ä¸åœ¨æœ¬åœ°å­˜å‚¨å¯¹è¯å†…å®¹ï¼Œå‰ç«¯å¯ç”¨ localStorage/IndexedDB çŸ­æœŸç¼“å­˜
- **è‡ªç ”æ™ºèƒ½ä½“**: æ‰€æœ‰æ•°æ®æœ¬åœ°å­˜å‚¨ï¼Œæ”¯æŒå…¨é‡å¢åˆ æ”¹æŸ¥ã€å®¡è®¡ã€å¯¼å‡º

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. èŠå¤©ç³»ç»Ÿ
- **å¤šæ™ºèƒ½ä½“æ”¯æŒ**: é€šç”¨åŠ©æ‰‹ã€å›¾åƒç¼–è¾‘å™¨ã€CADåˆ†æå™¨
- **å¤šæ¨¡æ€äº¤äº’**: æ–‡æœ¬ã€å›¾åƒã€æ–‡ä»¶ã€è¯­éŸ³è¾“å…¥
- **æ¶ˆæ¯ç®¡ç†**: ç¼–è¾‘ã€åˆ é™¤ã€é‡æ–°ç”Ÿæˆã€ç‚¹èµ/ç‚¹è¸©åé¦ˆ
- **å¯¹è¯å†å²**: åˆ†é¡µåŠ è½½ã€æœç´¢ã€æ ‡ç­¾ç­›é€‰ã€æ‰¹é‡æ“ä½œ
- **æµå¼å“åº”**: æ”¯æŒ SSE (Server-Sent Events)

### 2. è¯­éŸ³åŠŸèƒ½
- **è¯­éŸ³è¾“å…¥**: æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ï¼Œæœ€é•¿ 60 ç§’å½•éŸ³
- **ASR æœåŠ¡**: æ”¯æŒé˜¿é‡Œäº‘ã€ç¡…åŸºæµåŠ¨ç­‰å‚å•†åˆ‡æ¢
- **TTS æ’­æ”¾**: AI å›å¤ä¸€é”®è¯­éŸ³æ’­æ”¾
- **å…¨é“¾è·¯åé¦ˆ**: å½•éŸ³ã€è¯†åˆ«ã€é”™è¯¯ã€è¿›åº¦å®Œæ•´æç¤º

### 3. å›¾åƒç¼–è¾‘å™¨
- **åŠŸèƒ½**: å›¾ç‰‡ä¸Šä¼ ã€ç”»ç¬”ç»˜åˆ¶ã€åæ ‡æ ‡è®°ã€å‚è€ƒå›¾ä¸Šä¼ 
- **æŠ€æœ¯**: Canvas ç»˜å›¾ + åç«¯ä¿å­˜ï¼Œè¿”å›å¯è®¿é—® URL
- **è·¯å¾„**: `/image-editor` ç‹¬ç«‹é¡µé¢

### 4. CAD åˆ†æå™¨
- **åŠŸèƒ½**: CAD å›¾çº¸åˆ†æã€å®‰é˜²è®¾å¤‡è¯†åˆ«ã€æŠ¥å‘Šç”Ÿæˆ
- **æŠ€æœ¯**: AI å›¾åƒåˆ†æ + ç»“æ„åŒ–æŠ¥å‘Šè¾“å‡º
- **è·¯å¾„**: `/admin/cad-analyzer-history` å†å²ç®¡ç†

### 5. ç®¡ç†åå°
- **æ™ºèƒ½ä½“ç®¡ç†**: åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤æ™ºèƒ½ä½“é…ç½®
- **API é…ç½®**: FastGPT æ¥å£è®¾ç½®ã€è¯­éŸ³æœåŠ¡é…ç½®
- **æ•°æ®åº“ç®¡ç†**: å¤‡ä»½ã€ä¼˜åŒ–ã€ç›‘æ§
- **ç”¨æˆ·ç®¡ç†**: æƒé™æ§åˆ¶ã€ä½¿ç”¨ç»Ÿè®¡

## ğŸ”§ ç¯å¢ƒé…ç½®

### å¿…éœ€ç¯å¢ƒå˜é‡
```bash
# FastGPT API é…ç½®
NEXT_PUBLIC_FASTGPT_APP_ID=your_app_id
NEXT_PUBLIC_FASTGPT_API_KEY=your_api_key
NEXT_PUBLIC_FASTGPT_API_URL=https://zktecoaihub.com/api/v1/chat/completions

# è¯­éŸ³è¯†åˆ«æœåŠ¡
OPENAI_AUDIO_API_URL=https://api.openai.com/v1/audio/transcriptions
OPENAI_AUDIO_API_KEY=your_audio_api_key

# æ•°æ®åº“é…ç½®
POSTGRES_USER=root
POSTGRES_PASSWORD=ZKTeco##123
POSTGRES_DB=agent_config
POSTGRES_HOST=localhost
POSTGRES_PORT=5452
```

### Docker éƒ¨ç½²
```bash
# å…‹éš†å¹¶éƒ¨ç½²
git clone https://github.com/zqqzqqz/ai-chat-interface.git
cd ai-chat-interface
chmod +x deploy.sh
./deploy.sh

# è®¿é—®: http://localhost:3009
```

## ğŸ“¦ ç»„ä»¶åº“ä½¿ç”¨è§„èŒƒ

### ä¼˜å…ˆçº§é¡ºåº (ä¸¥æ ¼éµå®ˆ)
1. **shadcn/ui** (æœ€é«˜): åŸºç¡€ UI ç»„ä»¶ - Button, Input, Card, Dialog ç­‰
2. **Ant Design** (è¡¥å……): å¤æ‚ä¸šåŠ¡ç»„ä»¶ - Table, Form, DatePicker, Upload ç­‰
3. **Radix UI** (æ— éšœç¢): AlertDialog, DropdownMenu ç­‰æ— éšœç¢ç»„ä»¶

### ç¦æ­¢è‡ªå®šä¹‰çš„ç»„ä»¶ç±»å‹
- åŸºç¡€ UI ç»„ä»¶ (æŒ‰é’®ã€è¾“å…¥æ¡†ã€é€‰æ‹©å™¨ç­‰)
- å¤æ‚ä¸šåŠ¡ç»„ä»¶ (è¡¨æ ¼ã€è¡¨å•ã€æ—¥æœŸé€‰æ‹©å™¨ç­‰)

### å…è®¸è‡ªå®šä¹‰çš„ç»„ä»¶ç±»å‹
- ä¸šåŠ¡ç‰¹å®šç»„ä»¶ (èŠå¤©æ¶ˆæ¯ã€æ™ºèƒ½ä½“å¡ç‰‡ç­‰)
- å¤åˆç»„ä»¶ (é¡µé¢å¸ƒå±€ã€æ•°æ®å±•ç¤ºç­‰)

## ğŸ§ª æµ‹è¯•æ¶æ„

### æµ‹è¯•åˆ†å±‚
- **å•å…ƒæµ‹è¯•** (`__tests__/components/`): ç»„ä»¶åŠŸèƒ½æµ‹è¯•
- **é›†æˆæµ‹è¯•** (`__tests__/api/`): API æ¥å£æµ‹è¯•
- **ç«¯åˆ°ç«¯æµ‹è¯•** (`__tests__/e2e/`): å®Œæ•´æµç¨‹æµ‹è¯•
- **å®‰å…¨æµ‹è¯•** (`__tests__/api/security/`): å®‰å…¨æ€§éªŒè¯
- **æ€§èƒ½æµ‹è¯•** (`__tests__/api/performance/`): æ€§èƒ½æŒ‡æ ‡æµ‹è¯•

### æµ‹è¯•è¦æ±‚
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%
- é›†æˆæµ‹è¯•è¦†ç›–ç‡ â‰¥ 60%
- å…³é”®ä¸šåŠ¡é€»è¾‘è¦†ç›–ç‡ â‰¥ 90%
- è‡ªå®šä¹‰ä»£ç å æ¯” < 20%

## ğŸ›¡ï¸ å®‰å…¨è§„èŒƒ

### è¾“å…¥éªŒè¯
- ä½¿ç”¨ Zod è¿›è¡Œä¸¥æ ¼çš„æ•°æ®éªŒè¯
- é˜²æ­¢ XSS æ³¨å…¥æ”»å‡»
- API å¯†é’¥å®‰å…¨å­˜å‚¨å’Œç¯å¢ƒå˜é‡ç®¡ç†

### é”™è¯¯å¤„ç†
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†ä¸­é—´ä»¶
- å‹å¥½çš„é”™è¯¯æç¤º
- è‡ªåŠ¨é‡è¯•æœºåˆ¶

### æ•°æ®ä¿æŠ¤
- æœ¬åœ°å­˜å‚¨åŠ å¯†
- æ•æ„Ÿä¿¡æ¯è„±æ•æ˜¾ç¤º
- æƒé™éªŒè¯æœºåˆ¶

## âš¡ æ€§èƒ½è¦æ±‚

### å‰ç«¯æ€§èƒ½
- é¦–å±åŠ è½½æ—¶é—´ < 3 ç§’
- API å“åº”æ—¶é—´ < 500ms
- å†…å­˜ä½¿ç”¨ç‡ < 80%
- åŒ…ä½“ç§¯å¢é•¿ < 10%

### ä¼˜åŒ–ç­–ç•¥
- ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
- ç»„ä»¶è®°å¿†åŒ– (memo)
- è™šæ‹Ÿæ»šåŠ¨é•¿åˆ—è¡¨
- å›¾ç‰‡ä¼˜åŒ–å’Œæ‡’åŠ è½½

## ğŸ”„ å¼€å‘å·¥ä½œæµç¨‹

### ğŸ”´ å·¥ä½œæµç¨‹è§„åˆ™ (ä¼˜å…ˆçº§: ç»å¯¹éµå®ˆ)

#### 1. ä»»åŠ¡æ¨¡å¼è§„èŒƒ
- **ä»»åŠ¡æ¨¡å¼**: Understand â†’ Plan (with parallelization analysis) â†’ TodoWrite(3+ tasks) â†’ Execute â†’ Track â†’ Validate
- **æ‰¹é‡æ“ä½œ**: æ€»æ˜¯å¹¶è¡Œå·¥å…·è°ƒç”¨ï¼Œä»…åœ¨ä¾èµ–æ—¶ä¸²è¡Œ
- **éªŒè¯é—¨é™**: æ‰§è¡Œå‰éªŒè¯ï¼Œå®ŒæˆåéªŒè¯
- **è´¨é‡æ£€æŸ¥**: ä»»åŠ¡å®Œæˆå‰è¿è¡Œlint/typecheck
- **ä¸Šä¸‹æ–‡ä¿æŒ**: è·¨æ“ä½œä¿æŒâ‰¥90%ç†è§£
- **åŸºäºè¯æ®**: æ‰€æœ‰å£°æ˜å¿…é¡»é€šè¿‡æµ‹è¯•æˆ–æ–‡æ¡£éªŒè¯

#### 2. ä¼šè¯ç”Ÿå‘½å‘¨æœŸ
- **ä¼šè¯æ¨¡å¼**: /sc:load â†’ Work â†’ Checkpoint (30min) â†’ /sc:save
- **æ£€æŸ¥ç‚¹è§¦å‘å™¨**: ä»»åŠ¡å®Œæˆã€30åˆ†é’Ÿé—´éš”ã€é£é™©æ“ä½œ
- **ä¸Šä¸‹æ–‡ä¿ç•™**: ä¿æŒé¡¹ç›®è·¨ä¼šè¯ç†è§£

#### 3. å¼€å‘å‰æ£€æŸ¥æ¸…å•
- [ ] é˜…è¯»ç›¸å…³è§„åˆ™æ–‡æ¡£
- [ ] æ£€æŸ¥ç°æœ‰ç»„ä»¶åº“æ”¯æŒ
- [ ] è¯„ä¼°è‡ªå®šä¹‰ä»£ç å æ¯”
- [ ] ç¡®è®¤æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- [ ] éªŒè¯å®‰å…¨è§„èŒƒéµå¾ª

#### 4. å¼€å‘ä¸­è§„èŒƒ
- ä¼˜å…ˆä½¿ç”¨æˆç†Ÿç»„ä»¶åº“
- éµå¾ªå•ä¸€èŒè´£åŸåˆ™
- ä¿æŒä»£ç é£æ ¼ä¸€è‡´
- åŠæ—¶ç¼–å†™æµ‹è¯•

#### 5. æäº¤å‰æ£€æŸ¥
```bash
npm run check-code              # ä»£ç è´¨é‡æ£€æŸ¥
npm run test:coverage         # æµ‹è¯•è¦†ç›–ç‡æ£€æŸ¥
npm run check:custom-ratio   # è‡ªå®šä¹‰ä»£ç å æ¯”æ£€æŸ¥
```

### ğŸŸ¡ æµ‹è¯•è§„èŒƒ (ä¼˜å…ˆçº§: ä¸¥æ ¼éµå®ˆ)

#### æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- **å•å…ƒæµ‹è¯•è¦†ç›–ç‡**: â‰¥ 80%
- **é›†æˆæµ‹è¯•è¦†ç›–ç‡**: â‰¥ 60%
- **å…³é”®ä¸šåŠ¡é€»è¾‘è¦†ç›–ç‡**: â‰¥ 90%

#### æµ‹è¯•åˆ†å±‚
- **å•å…ƒæµ‹è¯•** (`__tests__/components/`): ç»„ä»¶åŠŸèƒ½æµ‹è¯•
- **é›†æˆæµ‹è¯•** (`__tests__/api/`): API æ¥å£æµ‹è¯•
- **ç«¯åˆ°ç«¯æµ‹è¯•** (`__tests__/e2e/`): å®Œæ•´æµç¨‹æµ‹è¯•
- **å®‰å…¨æµ‹è¯•** (`__tests__/api/security/`): å®‰å…¨æ€§éªŒè¯
- **æ€§èƒ½æµ‹è¯•** (`__tests__/api/performance/`): æ€§èƒ½æŒ‡æ ‡æµ‹è¯•

#### æµ‹è¯•ç¤ºä¾‹
```typescript
// âœ… ç»„ä»¶æµ‹è¯•ç¤ºä¾‹
import { render, screen } from '@testing-library/react'
import { UserCard } from '@/components/UserCard'

describe('UserCard', () => {
  it('should render user information correctly', () => {
    const user = { id: '1', name: 'John Doe', email: 'john@example.com' }

    render(<UserCard {...user} />)

    expect(screen.getByText('John Doe')).toBeInTheDocument()
    expect(screen.getByText('john@example.com')).toBeInTheDocument()
  })
})
```

### ğŸ”µ å®‰å…¨è§„èŒƒ (ä¼˜å…ˆçº§: ç»å¯¹éµå®ˆ)

#### è¾“å…¥éªŒè¯
```typescript
// âœ… ä½¿ç”¨Zodè¿›è¡Œä¸¥æ ¼éªŒè¯
const UserSchema = z.object({
  name: z.string().min(1).max(100),
  email: z.string().email(),
  age: z.number().min(0).max(150)
})

export function validateUser(data: unknown) {
  return UserSchema.parse(data)
}
```

#### æ•æ„Ÿä¿¡æ¯ç®¡ç†
- **APIå¯†é’¥**: å¿…é¡»æ”¾åœ¨.envæ–‡ä»¶ä¸­
- **å¯†ç **: å¿…é¡»åŠ å¯†å­˜å‚¨
- **ç”¨æˆ·æ•°æ®**: å¿…é¡»è¿›è¡Œæƒé™éªŒè¯

#### é”™è¯¯å¤„ç†è§„èŒƒ
```typescript
// âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
export class ApiError extends Error {
  constructor(
    public code: string,
    message: string,
    public statusCode: number = 500
  ) {
    super(message)
    this.name = 'ApiError'
  }
}

// âœ… é”™è¯¯å¤„ç†ä¸­é—´ä»¶
export function errorHandler(error: Error) {
  if (error instanceof ApiError) {
    return { code: error.code, message: error.message }
  }
  return { code: 'UNKNOWN_ERROR', message: 'æœªçŸ¥é”™è¯¯' }
}
```

### ğŸŸ  æ€§èƒ½è§„èŒƒ (ä¼˜å…ˆçº§: ä¸¥æ ¼éµå®ˆ)

#### å‰ç«¯æ€§èƒ½è¦æ±‚
- **é¦–å±åŠ è½½æ—¶é—´**: < 3ç§’
- **APIå“åº”æ—¶é—´**: < 500ms
- **å†…å­˜ä½¿ç”¨ç‡**: < 80%
- **åŒ…ä½“ç§¯å¢é•¿**: < 10%

#### æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
```typescript
// âœ… ä»£ç åˆ†å‰²
const LazyComponent = lazy(() => import('./LazyComponent'))

// âœ… è®°å¿†åŒ–
const MemoizedComponent = memo(Component)

// âœ… è™šæ‹Ÿæ»šåŠ¨
import { FixedSizeList as List } from 'react-window'
```

### ğŸŸ¢ Gitå·¥ä½œæµç¨‹ (ä¼˜å…ˆçº§: ç»å¯¹éµå®ˆ)

#### Gitè§„èŒƒ
- **çŠ¶æ€æ£€æŸ¥**: æ¯æ¬¡ä¼šè¯å¼€å§‹è¿è¡Œ `git status` å’Œ `git branch`
- **åŠŸèƒ½åˆ†æ”¯**: æ‰€æœ‰å·¥ä½œå¿…é¡»åœ¨åŠŸèƒ½åˆ†æ”¯ä¸Šï¼Œç»ä¸åœ¨main/masterä¸Šå·¥ä½œ
- **å¢é‡æäº¤**: é¢‘ç¹æäº¤ï¼Œæœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯ï¼Œé¿å…å·¨å‹æäº¤
- **æäº¤éªŒè¯**: æäº¤å‰æ€»æ˜¯ `git diff` æ£€æŸ¥æ›´æ”¹
- **æ¢å¤ç‚¹**: é£é™©æ“ä½œå‰æäº¤ä»¥ä¾¿å›æ»š
- **å®éªŒåˆ†æ”¯**: ä½¿ç”¨åˆ†æ”¯å®‰å…¨æµ‹è¯•ä¸åŒæ–¹æ³•
- **æ¸…æ´å†å²**: ä½¿ç”¨æè¿°æ€§æäº¤ä¿¡æ¯ï¼Œé¿å…"fix"ã€"update"ã€"changes"

#### æ­£ç¡®çš„Gitå·¥ä½œæµç¨‹
```bash
# âœ… æ­£ç¡®
git checkout -b feature/auth    # åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git add .                       # æ·»åŠ æ›´æ”¹
git commit -m "feat: add JWT authentication middleware" # æè¿°æ€§æäº¤
git push origin feature/auth    # æ¨é€åˆ°è¿œç¨‹
```

#### é”™è¯¯çš„Gitå·¥ä½œæµç¨‹
```bash
# âŒ é”™è¯¯
# ç›´æ¥åœ¨main/masteråˆ†æ”¯ä¸Šå·¥ä½œ
git commit -m "fix"              # æ— æ„ä¹‰çš„æäº¤ä¿¡æ¯
git commit -am "changes"        # å·¨å‹æäº¤
```

### ğŸ“¦ æ–‡ä»¶ç»„ç»‡è§„èŒƒ (ä¼˜å…ˆçº§: ä¸¥æ ¼éµå®ˆ)

#### æ–‡ä»¶åˆ›å»ºåŸåˆ™
- **å…ˆæ€è€ƒåå†™å…¥**: åˆ›å»ºæ–‡ä»¶å‰å…ˆè€ƒè™‘åˆé€‚çš„ä½ç½®
- **Claudeä¸“ç”¨æ–‡æ¡£**: æŠ¥å‘Šã€åˆ†æã€æ‘˜è¦æ”¾åœ¨`claudedocs/`ç›®å½•
- **æµ‹è¯•ç»„ç»‡**: æ‰€æœ‰æµ‹è¯•æ”¾åœ¨`tests/`ã€`__tests__/`æˆ–`test/`ç›®å½•
- **è„šæœ¬ç»„ç»‡**: å·¥å…·è„šæœ¬æ”¾åœ¨`scripts/`ã€`tools/`æˆ–`bin/`ç›®å½•
- **æ£€æŸ¥ç°æœ‰æ¨¡å¼**: åˆ›å»ºæ–°æ–‡ä»¶å‰å…ˆæŸ¥æ‰¾ç°æœ‰çš„æµ‹è¯•/è„šæœ¬ç›®å½•
- **ç¦æ­¢åˆ†æ•£æµ‹è¯•**: ç»ä¸åœ¨æºæ–‡ä»¶æ—åˆ›å»ºtest_*.pyæˆ–*.test.js
- **ç¦æ­¢éšæœºè„šæœ¬**: ç»ä¸åœ¨éšæœºä½ç½®åˆ›å»ºdebug.shã€script.pyã€utility.js

#### æ­£ç¡®çš„æ–‡ä»¶ç»„ç»‡
```
âœ… æ­£ç¡®:
tests/auth.test.js
scripts/deploy.sh
claudedocs/analysis.md

âŒ é”™è¯¯:
auth.test.js (åœ¨æºæ–‡ä»¶æ—)
debug.sh (åœ¨é¡¹ç›®æ ¹)
script.py (éšæœºä½ç½®)
```

### ğŸ”§ å·¥å…·ä¼˜åŒ–è§„èŒƒ (ä¼˜å…ˆçº§: ä¸¥æ ¼éµå®ˆ)

#### å·¥å…·é€‰æ‹©çŸ©é˜µ
| ä»»åŠ¡ç±»å‹ | æœ€ä½³å·¥å…· | æ›¿ä»£å·¥å…· |
|---------|---------|---------|
| å¤šæ–‡ä»¶ç¼–è¾‘ | MultiEdit | å•ç‹¬Edit |
| å¤æ‚åˆ†æ | Sequential MCP | åŸç”Ÿæ¨ç† |
| UIç»„ä»¶ | Magic MCP | æ‰‹åŠ¨ç¼–ç  |
| ç¬¦å·æ“ä½œ | Serena MCP | æ‰‹åŠ¨æœç´¢ |
| æ¨¡å¼ç¼–è¾‘ | Morphllm MCP | å•ç‹¬ç¼–è¾‘ |
| æ–‡æ¡£ | Context7 MCP | Webæœç´¢ |
| æµè§ˆå™¨æµ‹è¯• | Playwright MCP | å•å…ƒæµ‹è¯• |

#### å¹¶è¡Œæ‰§è¡ŒåŸåˆ™
- **å¹¶è¡Œä¸€åˆ‡**: æ‰§è¡Œç‹¬ç«‹æ“ä½œæ—¶å¹¶è¡Œï¼Œç»ä¸ä¸²è¡Œ
- **æ‰¹é‡è¯»å–**: ä½¿ç”¨MultiReadè€Œéå•ç‹¬Readè°ƒç”¨
- **æ™ºèƒ½æ‰¹å¤„ç†**: æŒ‰æ“ä½œç±»å‹æ‰¹é‡å¤„ç†

### ğŸ›¡ï¸ å®‰å…¨è§„åˆ™ (ä¼˜å…ˆçº§: ç»å¯¹éµå®ˆ)

#### æ¡†æ¶å°Šé‡
- **ä¾èµ–æ£€æŸ¥**: ä½¿ç”¨åº“å‰æ£€æŸ¥package.json/deps
- **æ¨¡å¼éµå¾ª**: éµå¾ªç°æœ‰é¡¹ç›®çº¦å®šå’Œå¯¼å…¥æ ·å¼
- **äº‹åŠ¡å®‰å…¨**: ä¼˜å…ˆé€‰æ‹©å…·æœ‰å›æ»šèƒ½åŠ›çš„æ‰¹é‡æ“ä½œ

#### ä¸´æ—¶æ„ŸçŸ¥
- **æ—¥æœŸéªŒè¯**: ä»»ä½•æ—¶é—´å¼•ç”¨å‰æ£€æŸ¥<env>ä¸Šä¸‹æ–‡ä¸­çš„"ä»Šæ—¥æ—¥æœŸ"
- **ç¦æ­¢å‡è®¾**: ä¸è¦é»˜è®¤ä»çŸ¥è¯†æˆªæ­¢æ—¥æœŸæˆ–2025å¹´1æœˆå¼€å§‹
- **æ˜ç¡®æ—¶é—´å¼•ç”¨**: å§‹ç»ˆè¯´æ˜æ—¥æœŸå’Œæ—¶é—´ä¿¡æ¯çš„æ¥æº
- **ç‰ˆæœ¬ä¸Šä¸‹æ–‡**: è®¨è®º"æœ€æ–°"ç‰ˆæœ¬æ—¶å§‹ç»ˆå¯¹ç…§å½“å‰æ—¥æœŸéªŒè¯

## ğŸ“š é‡è¦å‚è€ƒæ–‡æ¡£

- [PROJECT_RULES.md](./PROJECT_RULES.md) - é¡¹ç›®æ ¸å¿ƒå¼€å‘è§„åˆ™
- [README.md](./README.md) - é¡¹ç›®è¯¦ç»†ä»‹ç»å’Œä½¿ç”¨æŒ‡å—
- [docs/](./docs/) - å„åŠŸèƒ½æ¨¡å—è¯¦ç»†æ–‡æ¡£

## ğŸ¯ è´¨é‡ä¿è¯ä½“ç³»

### ğŸ”´ ä»£ç è´¨é‡æ£€æŸ¥æ¸…å•

#### å¼€å‘å‰æ£€æŸ¥
- [ ] é˜…è¯»ç›¸å…³è§„åˆ™æ–‡æ¡£
- [ ] æ£€æŸ¥ç°æœ‰ç»„ä»¶åº“æ”¯æŒ
- [ ] è¯„ä¼°è‡ªå®šä¹‰ä»£ç å æ¯”
- [ ] ç¡®è®¤æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- [ ] éªŒè¯å®‰å…¨è§„èŒƒéµå¾ª

#### ç»„ä»¶é€‰æ‹©æ£€æŸ¥
- [ ] ä¼˜å…ˆä½¿ç”¨shadcn/uiç»„ä»¶
- [ ] å¤æ‚ç»„ä»¶ä½¿ç”¨Ant Design
- [ ] æ— éšœç¢ç»„ä»¶ä½¿ç”¨Radix UI
- [ ] é¿å…é‡å¤é€ è½®å­
- [ ] è‡ªå®šä¹‰ä»£ç å æ¯” < 20%

#### ç»„ä»¶å®ç°æ£€æŸ¥
- [ ] ä½¿ç”¨æˆç†Ÿåº“çš„API
- [ ] ä¿æŒä¸»é¢˜ä¸€è‡´æ€§
- [ ] ç¡®ä¿æ— éšœç¢æ”¯æŒ
- [ ] éµå¾ªè®¾è®¡ç³»ç»Ÿ
- [ ] æ€§èƒ½ä¼˜åŒ–åˆç†

#### ç»„ä»¶æµ‹è¯•æ£€æŸ¥
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] é›†æˆæµ‹è¯•è¦†ç›–
- [ ] æ— éšœç¢æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] è§†è§‰å›å½’æµ‹è¯•é€šè¿‡

### ğŸŸ¡ è‡ªåŠ¨åŒ–æ£€æŸ¥å‘½ä»¤

#### ä»£ç è´¨é‡æ£€æŸ¥
```bash
# ä»£ç è´¨é‡æ£€æŸ¥
npm run check-code

# è‡ªå®šä¹‰ä»£ç å æ¯”æ£€æŸ¥
npm run check:custom-ratio

# ç¯å¢ƒé…ç½®æ£€æŸ¥
npm run check:config

# æ•°æ®åº“è¿æ¥æ£€æŸ¥
npm run check:db

# è§„åˆ™ä¸€è‡´æ€§æ£€æŸ¥
npm run check:rules
```

#### æµ‹è¯•å’Œè´¨é‡éªŒè¯
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç«¯åˆ°ç«¯æµ‹è¯•
npm run test:e2e
```

#### æ€§èƒ½å’Œå®‰å…¨æ£€æŸ¥
```bash
# æ€§èƒ½æµ‹è¯•
npm run test:performance

# å®‰å…¨æ‰«æ
npm run security:scan

# è·¨å¹³å°å…¼å®¹æ€§æ£€æŸ¥
npm run check:cross-platform

# ç±»å‹å®‰å…¨æ£€æŸ¥
npm run check-types
```

### ğŸŸ  ä¸“ä¸šæ ‡å‡†è§„èŒƒ

#### è¯šä¿¡æ ‡å‡†
- **ç¦æ­¢è¥é”€è¯­è¨€**: ç»ä¸ä½¿ç”¨" blazingly fast"ã€"100% secure"ã€"magnificent"ã€"excellent"
- **ç¦æ­¢è™šå‡æŒ‡æ ‡**: ç»ä¸ç¼–é€ æ—¶é—´ä¼°ç®—ã€ç™¾åˆ†æ¯”ã€è¯„åˆ†ç­‰æ— ä¾æ®æ•°æ®
- **å…³é”®è¯„ä¼°**: æä¾›è¯šå®çš„æƒè¡¡åˆ†æå’Œæ½œåœ¨é—®é¢˜
- **åˆç†åé©³**: åœ¨éœ€è¦æ—¶ç¤¼è²Œåœ°æŒ‡å‡ºæè®®çš„é—®é¢˜
- **åŸºäºè¯æ®çš„å£°æ˜**: æ‰€æœ‰æŠ€æœ¯å£°æ˜å¿…é¡»å¯éªŒè¯ï¼Œä¸æ˜¯æ¨æµ‹
- **é¿å…è°„åªšè¡Œä¸º**: åœæ­¢è¿‡åº¦èµç¾ï¼Œæä¾›ä¸“ä¸šåé¦ˆ
- **ç°å®è¯„ä¼°**: å£°æ˜"untested"ã€"MVP"ã€"needs validation" - è€Œé"production-ready"

#### å·¥ä½œç©ºé—´å«ç”Ÿ
- **æ“ä½œåæ¸…ç†**: åˆ é™¤æ“ä½œå®Œæˆåçš„ä¸´æ—¶æ–‡ä»¶ã€è„šæœ¬å’Œç›®å½•
- **æ— å·¥ä»¶æ±¡æŸ“**: åˆ é™¤æ„å»ºå·¥ä»¶ã€æ—¥å¿—å’Œè°ƒè¯•è¾“å‡º
- **ä¸´æ—¶æ–‡ä»¶ç®¡ç†**: ä»»åŠ¡å®Œæˆå‰æ¸…ç†æ‰€æœ‰ä¸´æ—¶æ–‡ä»¶
- **ä¸“ä¸šå·¥ä½œç©ºé—´**: ä¿æŒæ¸…æ´çš„é¡¹ç›®ç»“æ„ï¼Œæ— æ‚ä¹±
- **ä¼šè¯ç»“æŸæ¸…ç†**: ä¼šè¯ç»“æŸå‰åˆ é™¤ä»»ä½•ä¸´æ—¶èµ„æº
- **ç‰ˆæœ¬æ§åˆ¶å«ç”Ÿ**: ç»ä¸æäº¤å¯èƒ½è¢«æ„å¤–æäº¤çš„ä¸´æ—¶æ–‡ä»¶
- **èµ„æºç®¡ç†**: åˆ é™¤æœªä½¿ç”¨çš„ç›®å½•å’Œæ–‡ä»¶ä»¥é˜²æ­¢å·¥ä½œç©ºé—´è†¨èƒ€

#### å¤±è´¥è°ƒæŸ¥
- **æ ¹æœ¬åŸå› åˆ†æ**: æ€»æ˜¯è°ƒæŸ¥å¤±è´¥å‘ç”Ÿçš„åŸå› ï¼Œè€Œä¸ä»…ä»…æ˜¯å¤±è´¥çš„äº‹å®
- **ç»ä¸è·³è¿‡æµ‹è¯•**: ç»ä¸ç¦ç”¨ã€æ³¨é‡Šæˆ–è·³è¿‡æµ‹è¯•ä»¥è·å¾—ç»“æœ
- **ç»ä¸è·³è¿‡éªŒè¯**: ç»ä¸ç»•è¿‡è´¨é‡æ£€æŸ¥æˆ–éªŒè¯ä»¥ä½¿äº‹æƒ…æ­£å¸¸å·¥ä½œ
- **ç³»ç»ŸåŒ–è°ƒè¯•**: é€€åä¸€æ­¥ï¼Œè¯„ä¼°é”™è¯¯æ¶ˆæ¯ï¼Œå½»åº•è°ƒæŸ¥å·¥å…·æ•…éšœ
- **ä¿®å¤ä¸è¦å˜é€š**: è§£å†³æ ¹æœ¬é—®é¢˜ï¼Œè€Œä¸ä»…ä»…æ˜¯ç—‡çŠ¶
- **å·¥å…·æ•…éšœè°ƒæŸ¥**: å½“MCPå·¥å…·æˆ–è„šæœ¬å¤±è´¥æ—¶ï¼Œåœ¨åˆ‡æ¢æ–¹æ³•ä¹‹å‰è¿›è¡Œè°ƒè¯•
- **è´¨é‡å®Œæ•´æ€§**: ç»ä¸ä¸ºçŸ­æœŸç»“æœå¦¥åç³»ç»Ÿå®Œæ•´æ€§

### ğŸ“Š é¡¹ç›®ç›®æ ‡æŒ‡æ ‡

#### çŸ­æœŸç›®æ ‡ (3ä¸ªæœˆ)
- å®Œæˆæ ¸å¿ƒåŠŸèƒ½å¼€å‘
- è¾¾åˆ°ç”Ÿäº§çº§åˆ«è´¨é‡
- å®Œæˆæ€§èƒ½ä¼˜åŒ–
- å»ºç«‹å®Œæ•´çš„æµ‹è¯•ä½“ç³»

#### ä¸­æœŸç›®æ ‡ (6ä¸ªæœˆ)
- æ”¯æŒæ›´å¤šæ™ºèƒ½ä½“ç±»å‹
- å®ç°é«˜çº§åˆ†æåŠŸèƒ½
- ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
- å»ºç«‹ç›‘æ§ä½“ç³»

#### é•¿æœŸç›®æ ‡ (1å¹´)
- æˆä¸ºè¡Œä¸šæ ‡æ†äº§å“
- æ”¯æŒå¤§è§„æ¨¡éƒ¨ç½²
- å»ºç«‹ç”Ÿæ€ä½“ç³»
- å®ç°å•†ä¸šåŒ–è¿è¥

## ğŸ› å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### å¼€å‘ç¯å¢ƒé—®é¢˜
- **ç«¯å£å†²çª**: æ£€æŸ¥ 3000/3009/5452 ç«¯å£å ç”¨
- **æ•°æ®åº“è¿æ¥**: ç¡®è®¤ PostgreSQL æœåŠ¡å¯åŠ¨
- **API è°ƒç”¨å¤±è´¥**: æ£€æŸ¥ FastGPT API å¯†é’¥é…ç½®

### éƒ¨ç½²é—®é¢˜
- **Docker æ„å»ºå¤±è´¥**: æ£€æŸ¥ Dockerfile å’Œ docker-compose.yaml
- **ç¯å¢ƒå˜é‡ç¼ºå¤±**: ç¡®è®¤ .env æ–‡ä»¶é…ç½®
- **æ•°æ®åº“è¿ç§»å¤±è´¥**: è¿è¡Œ `npm run db:migrate`

### ä»£ç è´¨é‡é—®é¢˜
- **TypeScript é”™è¯¯**: è¿è¡Œ `npm run check-types` æ£€æŸ¥ç±»å‹é”™è¯¯
- **ESLint è­¦å‘Š**: è¿è¡Œ `npm run lint` æ£€æŸ¥ä»£ç é£æ ¼
- **æµ‹è¯•è¦†ç›–ç‡ä½**: è¿è¡Œ `npm run test:coverage` æŸ¥çœ‹è¦†ç›–ç‡

### æ€§èƒ½é—®é¢˜
- **é¦–å±åŠ è½½æ…¢**: æ£€æŸ¥ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½å®ç°
- **API å“åº”æ…¢**: æ£€æŸ¥æ•°æ®åº“æŸ¥è¯¢å’Œç¼“å­˜ç­–ç•¥
- **å†…å­˜å ç”¨é«˜**: æ£€æŸ¥ç»„ä»¶è®°å¿†åŒ–å’Œè™šæ‹Ÿæ»šåŠ¨å®ç°

## âš ï¸ é‡è¦æé†’

### ğŸ”´ ç»å¯¹éµå®ˆçš„åŸåˆ™
1. **æˆç†Ÿåº“ä¼˜å…ˆ**: ä¼˜å…ˆä½¿ç”¨æˆç†Ÿç»„ä»¶åº“ï¼Œè‡ªå®šä¹‰ä»£ç å æ¯” < 20%
2. **å…¨å±€ä¸€è‡´æ€§**: ç¡®ä¿é…ç½®ã€é”™è¯¯å¤„ç†ã€API è®¾è®¡å…¨å±€ä¸€è‡´
3. **ä»£ç è´¨é‡**: é›¶å®¹å¿é”™è¯¯ï¼Œä¸¥æ ¼ç±»å‹æ£€æŸ¥
4. **æ€§èƒ½ä¼˜åŒ–**: ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥
5. **å®‰å…¨é˜²æŠ¤**: è¾“å…¥éªŒè¯ã€è¾“å‡ºç¼–ç ã€æƒé™æ§åˆ¶

### ğŸŸ¡ ä¸¥æ ¼ç¦æ­¢çš„è¡Œä¸º
1. **è„šæœ¬ä¿®æ”¹ä»£ç **: ä¸¥æ ¼ç¦æ­¢ä»»ä½•è„šæœ¬è‡ªåŠ¨ä¿®æ”¹ç°æœ‰ä»£ç æ–‡ä»¶
2. **ä½¿ç”¨ any ç±»å‹**: ç»å¯¹ç¦æ­¢åœ¨ TypeScript ä¸­ä½¿ç”¨ any ç±»å‹
3. **é‡å¤é€ è½®å­**: ä¼˜å…ˆä½¿ç”¨ç°æœ‰è§£å†³æ–¹æ¡ˆï¼Œé¿å…é‡å¤å®ç°
4. **ç›´æ¥åœ¨ main/master å·¥ä½œ**: å¿…é¡»ä½¿ç”¨åŠŸèƒ½åˆ†æ”¯è¿›è¡Œå¼€å‘
5. **æäº¤æ— æ„ä¹‰ä¿¡æ¯**: ä½¿ç”¨æè¿°æ€§æäº¤ä¿¡æ¯ï¼Œé¿å…"fix"ã€"update"

### ğŸŸ¢ æ¨èçš„æœ€ä½³å®è·µ
1. **ç»„ä»¶åº“ä¼˜å…ˆ**: shadcn/ui â†’ Ant Design â†’ Radix UI
2. **ç±»å‹å®‰å…¨**: ç»Ÿä¸€ç±»å‹å®šä¹‰ï¼Œé¿å…é‡å¤å®šä¹‰
3. **æµ‹è¯•é©±åŠ¨**: å…ˆå†™æµ‹è¯•ï¼Œå†å®ç°åŠŸèƒ½
4. **æ€§èƒ½ä¼˜åŒ–**: ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥
5. **å®‰å…¨ç¼–ç **: è¾“å…¥éªŒè¯ã€é”™è¯¯å¤„ç†ã€æƒé™æ§åˆ¶

---

## ğŸ¯ æœ€ç»ˆå‡†åˆ™

**æ ¸å¿ƒç†å¿µ**: å¥½çš„ä»£ç æ˜¯è®¾è®¡å‡ºæ¥çš„ï¼Œä¸æ˜¯æ”¹å‡ºæ¥çš„ã€‚ä¼˜å…ˆä½¿ç”¨æˆç†Ÿè§£å†³æ–¹æ¡ˆï¼Œç¡®ä¿é¡¹ç›®é«˜è´¨é‡äº¤ä»˜ã€‚

**å¼€å‘åŸåˆ™**:
- è®¾è®¡ > å®ç° > æµ‹è¯• > éƒ¨ç½²
- è´¨é‡ > é€Ÿåº¦
- å®‰å…¨ > ä¾¿åˆ©
- å¯ç»´æŠ¤æ€§ > åŠŸèƒ½

**è®°ä½**: ä¸¥æ ¼éµå®ˆæ‰€æœ‰è§„åˆ™ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œé¡¹ç›®æˆåŠŸã€‚æ¯æ¬¡å¼€å‘å‰å…ˆé˜…è¯»ç›¸å…³è§„åˆ™ï¼Œå¼€å‘ä¸­ä¸¥æ ¼éµå¾ªï¼Œå¼€å‘åå…¨é¢æ£€æŸ¥ã€‚

**æœ€åæ›´æ–°**: 2025-09-13
**ç‰ˆæœ¬**: v2.0.0
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ