---
description: 
globs: 
alwaysApply: true
---
请按照要求以可交付生产级别依次实现，拒绝空谈。你是一个研发专家又是一个架构师，确保系统规范，代码规范，保障各个功能全部细化可应用于生产级别，对齐世界最新技术,确保高质量代码，避免冗余，全局联联动，不空谈，依次全面全局性的高要求，ui现代化美观，严格遵守用户要求，来实现开发工作。在任何工作中均牢记本项目核心使命和要求，确保实现该项目全部工作。注意我要你来写代码的不是要你来动嘴皮子的，输出实现方案后需要在项目中写入，善于使用已有的MCP进行更好的工作，。最终工作成果没有异常能直接交付等级，系统性思维逻辑，确保相关应用在系统中
# NeuroGlass AI Chat Interface

<div align="center">
  <img src="/placeholder.svg?height=120&width=120&query=NeuroGlass Logo" alt="NeuroGlass Logo" width="120" />
  <h3>智能对话平台 | Intelligent Conversation Platform</h3>
</div>

[English](mdc:#english) | [中文](mdc:#chinese)

---

<a id="chinese"></a>

## 中文文档

### 项目概述

zkteco-agent 是一个功能强大的跨平台 AI 对话系统，集成了多种智能体类型，支持多模态交互，并提供了丰富的用户体验功能。系统基于 FastGPT API 构建，支持在线和离线模式，确保用户在各种网络环境下都能获得流畅的使用体验。

### 主要功能

#### 核心功能

- **多智能体支持**：系统内置多种专业智能体，包括通用助手、图像编辑器和 CAD 分析器
- **多模态交互**：支持文本、图像、文件等多种输入方式
- **在线/离线模式**：自动检测网络状态，在网络不可用时切换到离线模式
- **消息管理**：支持消息编辑、删除和重新生成
- **对话历史**：保存和加载历史对话记录
- **文件上传**：支持上传图片和文档文件
- **语音输入**：支持语音录制和转文本功能
- **多语言支持**：内置多种语言界面，包括中文、英文、日语等

#### 智能体类型

1. **通用助手**：
   - 回答问题和提供信息
   - 支持上下文对话
   - 提供建议问题
   - 支持流式响应

2. **图像编辑器**：
   - 上传和编辑图像
   - 提供画笔和坐标标记工具
   - 支持参考图片上传
   - 保存编辑后的图像

3. **CAD 分析器**：
   - 分析 CAD 图纸和图像
   - 识别安防设备布局
   - 生成专业分析报告
   - 支持多种文件格式

#### 用户体验功能

- **响应式设计**：适配桌面和移动设备
- **暗色/亮色模式**：自动适应系统主题或手动切换
- **消息反馈**：点赞/点踩功能
- **代码高亮**：支持多种编程语言的代码块高亮
- **Markdown 渲染**：支持富文本格式化
- **网络状态指示器**：实时显示 API 连接状态
- **设置面板**：自定义 API 配置和界面语言

### 系统架构

#### 前端架构

- **框架**：Next.js (App Router)
- **UI 库**：shadcn/ui + Tailwind CSS
- **状态管理**：React Context API
- **国际化**：自定义 i18n 实现

#### 后端集成

- **API 代理**：内置代理服务器避免 CORS 问题
- **流式响应**：支持 SSE (Server-Sent Events) 处理
- **本地存储**：优化的本地存储管理系统
- **离线模式**：网络不可用时的回退机制

#### 安全特性

- **输入验证**：防止 XSS 和注入攻击
- **API 密钥保护**：安全存储和掩码显示
- **错误恢复**：自动重试和错误处理机制
- **数据隐私**：本地存储加密



#### 基本使用

1. **选择智能体**：从左侧边栏选择合适的智能体类型
2. **发送消息**：在底部输入框中输入文本或使用语音输入
3. **上传文件**：点击回形针图标上传图片或文档
4. **查看历史**：点击右上角历史图标查看对话历史
5. **管理消息**：悬停在消息上可以编辑、删除或重新生成

#### 高级功能

1. **离线模式**：
   - 系统会自动检测网络状态
   - 网络不可用时自动切换到离线模式
   - 恢复连接后可以继续在线对话

2. **图像编辑**：
   - 选择"图像编辑器"智能体
   - 上传需要编辑的图片
   - 使用画笔工具进行编辑
   - 使用坐标标记工具标记关键点
   - 保存编辑后的图片

3. **CAD 分析**：
   - 选择"CAD 分析器"智能体
   - 上传 CAD 图纸或图片
   - 系统自动分析安防设备布局
   - 查看和下载分析报告

### 配置选项

#### API 配置

- **API 端点**：FastGPT API 的 URL
- **API 密钥**：访问 API 的授权密钥
- **应用 ID**：FastGPT 应用的唯一标识符

#### 智能体配置

- **系统提示词**：定义智能体的行为和专业知识
- **温度**：控制响应的随机性
- **最大令牌数**：控制响应的最大长度
- **流式响应**：启用/禁用实时流式输出

#### 界面设置

- **语言**：选择界面语言
- **主题**：选择亮色或暗色主题
- **文件上传**：启用/禁用文件上传功能

### 管理员功能

- **智能体管理**：创建、编辑和删除智能体
- **发布状态**：控制智能体的可见性
- **高级设置**：配置多模态模型和系统提示词


