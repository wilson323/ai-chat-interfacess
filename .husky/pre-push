#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ è¿è¡Œ pre-push æ ¡éªŒ (tests + build)..."

npm run test:ci
status=$?
if [ $status -ne 0 ]; then
  echo "âŒ æµ‹è¯•å¤±è´¥ï¼Œé˜»æ­¢æ¨é€"
  exit $status
fi

npm run build
status=$?
if [ $status -ne 0 ]; then
  echo "âŒ æ„å»ºå¤±è´¥ï¼Œé˜»æ­¢æ¨é€"
  exit $status
fi

echo "âœ… pre-push æ ¡éªŒé€šè¿‡"


